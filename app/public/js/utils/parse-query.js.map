{"version":3,"file":"parse-query.js","sources":["../src/public/js/utils/parse-query.js"],"sourcesContent":["const ATTR_REGEXP = /\\s*(?:[a-z]+)\\s*:\\s*(?:.(?![a-z]*\\s*:))*/gi;\nconst QUERY_REGEXP = /^((?:(?:[^\\s:]+(?![a-z]*\\s*:))\\s*)*)/i;\n\nexport default function (queryString) {\n\tlet query = queryString.match(QUERY_REGEXP)[0].trim();\n\tlet substr = queryString.substr(query.length);\n\tlet filters = [];\n\tlet match;\n\n\twhile ((match = ATTR_REGEXP.exec(substr)) !== null) {\n\t\tlet temp = match[0].split(':');\n\t\tfilters.push(temp[0].trim() + ':' + temp[1].trim());\n\t}\n\n\treturn {\n\t\tquery,\n\t\tfacetFilters: filters.join(','),\n\t};\n}\n"],"names":[],"mappings":";;;;;AAAA,IAAM,WAAW,GAAG,4CAA4C,CAAC;AACjE,IAAM,YAAY,GAAG,uCAAuC,CAAC;;qBAE9C,UAAU,WAAW,EAAE;AACrC,KAAI,KAAK,GAAG,WAAW,CAAC,KAAK,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;AACtD,KAAI,MAAM,GAAG,WAAW,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC9C,KAAI,OAAO,GAAG,EAAE,CAAC;AACjB,KAAI,KAAK,YAAA,CAAC;;AAEV,QAAO,CAAC,KAAK,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA,KAAM,IAAI,EAAE;AACnD,MAAI,IAAI,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AAC/B,SAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;EACpD;;AAED,QAAO;AACN,OAAK,EAAL,KAAK;AACL,cAAY,EAAE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;EAC/B,CAAC;CACF"}